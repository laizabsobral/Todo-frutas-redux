!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("react")):"function"==typeof define&&define.amd?define(["react"],i):"object"==typeof exports?exports["react-notifications-component"]=i(require("react")):t["react-notifications-component"]=i(t.React)}(self,(function(t){return(()=>{"use strict";var i={359:i=>{i.exports=t}},e={};function n(t){var o=e[t];if(void 0!==o)return o.exports;var s=e[t]={exports:{}};return i[t](s,s.exports,n),s.exports}n.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return n.d(i,{a:i}),i},n.d=(t,i)=>{for(var e in i)n.o(i,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},n.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{ReactNotifications:()=>y,Store:()=>g});var t=n(359),i=n.n(t);const e=!0,s=768,a=325,r="rnc__notification-item";var c,l,d,h;!function(t){t.BOTTOM_LEFT="bottom-left",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_CENTER="bottom-center",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.TOP_CENTER="top-center",t.CENTER="center",t.TOP_FULL="top-full",t.BOTTOM_FULL="bottom-full"}(c||(c={})),function(t){t.TOP="top",t.BOTTOM="bottom"}(l||(l={})),function(t){t.SUCCESS="success",t.DANGER="danger",t.INFO="info",t.DEFAULT="default",t.WARNING="warning"}(d||(d={})),function(t){t.TIMEOUT="timeout",t.CLICK="click",t.TOUCH="touch",t.MANUAL="manual"}(h||(h={}));const m=t=>null==t;function u(t){return t===c.BOTTOM_FULL||t===c.BOTTOM_LEFT||t===c.BOTTOM_RIGHT||t===c.BOTTOM_CENTER}function f(t){return t===c.TOP_FULL||t===c.TOP_LEFT||t===c.TOP_RIGHT||t===c.TOP_CENTER}function p(t){const{type:i,content:e,userDefinedTypes:n}=t,o=[r];if(e)return o;if(m(n))return function(t){switch(t){case d.DEFAULT:return[r,"rnc__notification-item--default"];case d.SUCCESS:return[r,"rnc__notification-item--success"];case d.DANGER:return[r,"rnc__notification-item--danger"];case d.WARNING:return[r,"rnc__notification-item--warning"];case d.INFO:return[r,"rnc__notification-item--info"];default:return[r]}}(i);const s=n.find((t=>t.name===i));return o.concat(s.htmlClasses)}function E({duration:t,timingFunction:i,delay:e},n){return`${t}ms ${n} ${i} ${e}ms`}function T(t){return t?(0|16*Math.random()).toString(16):"100000000000100000000000".replace(/1|0/g,T)}function N(t,{duration:i,timingFunction:e,delay:n}){const o=t||{};return m(o.duration)&&(o.duration=i),m(o.timingFunction)&&(o.timingFunction=e),m(o.delay)&&(o.delay=n),o}function v(t,i,e){const n=t,{id:o,type:s,insert:a,content:r,container:c,animationIn:l,animationOut:h,slidingEnter:u,slidingExit:f,touchRevert:p,touchSlidingExit:E,dismiss:v,width:_,onRemoval:S}=n;n.id=o||T(),n.type=r?null:s.toLowerCase(),i&&!r&&(n.userDefinedTypes=function(t,i){const{content:e,type:n}=t;if(!e&&n!==d.SUCCESS&&n!==d.DANGER&&n!==d.INFO&&n!==d.DEFAULT&&n!==d.WARNING&&i)return i}(n,i)),n.width=m(_)?e:_,n.container=c.toLowerCase(),n.insert=(a||"top").toLowerCase(),n.dismiss=function(t){const i=t,e={duration:0,click:!0,touch:!0,onScreen:!1,pauseOnHover:!1,waitForAnimation:!1,showIcon:!1};return i?(Object.keys(e).forEach((t=>{m(i[t])&&(i[t]=e[t])})),i):e}(v),n.animationIn=l||[],n.animationOut=h||[],n.onRemoval=S||(()=>{});const g=(t,i,e)=>({duration:t,timingFunction:i,delay:e});n.slidingEnter=N(u,g(600,"linear",0)),n.slidingExit=N(f,g(600,"linear",0)),n.touchRevert=N(p,g(600,"linear",0));const y=E||{},O=y.swipe||{},b=y.fade||{};return n.touchSlidingExit=y,n.touchSlidingExit.swipe=N(O,g(600,"linear",0)),n.touchSlidingExit.fade=N(b,g(300,"linear",0)),n}class _{constructor(t,i){this.callback=t,this.remaining=i,this.resume()}timerId;start;remaining;callback;pause(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.start}resume(){this.start=Date.now(),clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}clear(){clearTimeout(this.timerId)}}class S extends i().Component{constructor(t){super(t),this.rootElementRef=i().createRef();const{defaultNotificationWidth:e,notification:n,isMobile:o}=t,{width:s}=n;this.state={parentStyle:{height:"0px",overflow:"hidden",width:`${s||e}px`},htmlClassList:p(n),animationPlayState:"running",touchEnabled:!0},o&&(this.state.parentStyle.width="100%")}rootElementRef;timer;componentWillUnmount(){this.timer&&this.timer.clear()}componentDidMount(){const{notification:t,notificationsCount:i}=this.props,{dismiss:{duration:e,onScreen:n}}=t,o=function(t,i){return!(i<=1)&&i>1&&(t.insert===l.TOP&&f(t.container)||t.insert===l.BOTTOM&&u(t.container)||t.container===c.CENTER)}(t,i),{scrollHeight:s}=this.rootElementRef.current,a=()=>{if(!e||n)return;this.timer=new _((()=>this.removeNotification(h.TIMEOUT)),e)};this.setState((({parentStyle:{width:i}})=>({parentStyle:{width:i,height:`${s}px`,transition:o?E(t.slidingEnter,"height"):"10ms height"},onTransitionEnd:a})),(()=>{requestAnimationFrame((()=>{this.setState((i=>({htmlClassList:[...t.animationIn,...i.htmlClassList]})))}))}))}componentDidUpdate(t){if(this.props.hasBeenRemoved&&!t.hasBeenRemoved&&this.removeNotification(h.MANUAL),t!==this.props){const{container:t}=this.props.notification,{scrollHeight:i}=this.rootElementRef.current.children[0];this.setState((({parentStyle:e})=>({parentStyle:{...e,height:`${i+(t.endsWith("full")?0:15)}px`}})))}}removeNotification(t){const{notification:i,toggleRemoval:e}=this.props,{id:n,onRemoval:o,dismiss:{waitForAnimation:s}}=i,a=[...i.animationOut,...p(i)],r=()=>e(n,(()=>o(n,t))),c={height:"0px",overflow:"hidden",transition:E(i.slidingExit,"height")};return s?this.setState((({parentStyle:{width:t}})=>({htmlClassList:a,onAnimationEnd:()=>{this.setState({parentStyle:{width:t,...c},onTransitionEnd:r})}}))):this.setState((({parentStyle:{width:t}})=>({parentStyle:{width:t,...c},onTransitionEnd:r,htmlClassList:a})))}onClick=()=>{const{notification:{dismiss:t}}=this.props;(t.click||t.showIcon)&&this.removeNotification(h.CLICK)};onTouchStart=t=>{const{pageX:i}=t.touches[0];this.setState((({parentStyle:t})=>({startX:i,currentX:i,parentStyle:{...t,position:"relative"}})))};onTouchMove=t=>{const{pageX:i}=t.touches[0],{startX:e}=this.state,{toggleRemoval:n,notification:{id:o,onRemoval:s,slidingExit:a,touchSlidingExit:{swipe:r,fade:c}}}=this.props,l=i-e,{offsetWidth:d}=this.rootElementRef.current,m=window.innerWidth+d,u=`${i-e>=0?m:-m}px`;if(function(t,i){return Math.abs(t)>=.4*i}(l,d)){const t=E(r,"left"),i=E(c,"opacity"),e=()=>{n(o,(()=>s(o,h.TOUCH)))};return this.setState((({parentStyle:n})=>({touchEnabled:!1,parentStyle:{...n,left:u,opacity:0,transition:`${t}, ${i}`},onTransitionEnd:()=>{this.setState((({parentStyle:t})=>({parentStyle:{...t,height:"0px",overflow:"hidden",transition:E(a,"height")},onTransitionEnd:e})))}})))}return this.setState((({parentStyle:t})=>({currentX:i,parentStyle:{...t,left:`${0+l}px`}})))};onTouchEnd=()=>{const{notification:{touchRevert:t}}=this.props;this.setState((({parentStyle:i})=>({parentStyle:{...i,left:0,transition:E(t,"left")}})))};onMouseEnter=()=>{this.timer?this.timer.pause():this.setState({animationPlayState:"paused"})};onMouseLeave=()=>{this.timer?this.timer.resume():this.setState({animationPlayState:"running"})};renderTimer(){const{notification:{dismiss:t}}=this.props,{duration:e,onScreen:n}=t,{animationPlayState:o}=this.state;if(!e||!n)return;const s={animationName:"timer",animationDuration:`${e}ms`,animationTimingFunction:"linear",animationFillMode:"forwards",animationDelay:"0",animationPlayState:o};return i().createElement("div",{className:"rnc__notification-timer"},i().createElement("div",{className:"rnc__notification-timer-filler",onAnimationEnd:()=>this.removeNotification(h.TIMEOUT),style:s}))}renderCustomContent(){const{htmlClassList:t}=this.state,{notification:{id:e,content:n,dismiss:{duration:o,pauseOnHover:s}}}=this.props,a=o>0&&s;return i().createElement("div",{className:`${[...t].join(" ")}`,onMouseEnter:a?this.onMouseEnter:null,onMouseLeave:a?this.onMouseLeave:null},i().isValidElement(n)?n:i().createElement(n,{id:e}))}renderNotification(){const{notification:{title:t,message:e,dismiss:{showIcon:n,duration:o,pauseOnHover:s}}}=this.props,{htmlClassList:a}=this.state,r=o>0&&s;return i().createElement("div",{className:`${[...a].join(" ")}`,onMouseEnter:r?this.onMouseEnter:null,onMouseLeave:r?this.onMouseLeave:null},i().createElement("div",{className:"rnc__notification-content"},n&&i().createElement("div",{className:"rnc__notification-close-mark",onClick:this.onClick}),t&&i().createElement("div",{className:"rnc__notification-title"},t),i().createElement("div",{className:"rnc__notification-message"},e),this.renderTimer()))}render(){const{notification:{content:t,dismiss:{click:e}}}=this.props,{parentStyle:n,onAnimationEnd:o,onTransitionEnd:s,touchEnabled:a}=this.state;return i().createElement("div",{ref:this.rootElementRef,onClick:e?this.onClick:null,className:"notification",style:n,onAnimationEnd:o,onTransitionEnd:s,onTouchStart:a?this.onTouchStart:null,onTouchMove:a?this.onTouchMove:null,onTouchEnd:a?this.onTouchEnd:null},t?this.renderCustomContent():this.renderNotification())}}const g=new class{constructor(){this.counter=0,this.add=null}removeNotification;removeAllNotifications;types;add;defaultNotificationWidth;counter;incrementCounter=()=>this.counter+=1;addNotification(t){this.incrementCounter();const i=v(t,this.types,this.defaultNotificationWidth);return this.add(i)}getCounter=()=>this.counter;register(t){const{addNotification:i,removeNotification:e,removeAllNotifications:n,types:o,defaultNotificationWidth:s}=t;this.add=i,this.removeNotification=e,this.removeAllNotifications=n,this.defaultNotificationWidth=s,this.types=o}};class y extends i().Component{constructor(t){super(t),this.state={isMobile:m(t.isMobile)?e:t.isMobile,breakpoint:m(t.breakpoint)?s:t.breakpoint,notifications:[],windowWidth:void 0}}componentDidMount(){const{types:t,defaultNotificationWidth:i}=this.props;g.register({addNotification:this.add,removeNotification:this.remove,removeAllNotifications:this.removeAllNotifications,defaultNotificationWidth:i||a,types:t}),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}handleResize=()=>{this.setState({windowWidth:window.innerWidth})};add=t=>(this.setState((({notifications:i})=>{const e=[...i],n=e.findIndex((({id:i})=>i===t.id));return n>-1?(e[n]=t,{notifications:e}):{notifications:"top"===t.insert?[t,...e]:[...e,t]}})),t.id);remove=t=>{this.setState((({notifications:i})=>({notifications:i.map((i=>(i.id===t&&(i.hasBeenRemoved=!0),i)))})))};removeAllNotifications=()=>{this.setState({notifications:this.state.notifications.map((t=>({...t,hasBeenRemoved:!0})))})};toggleRemoval=(t,i)=>{this.setState((({notifications:i})=>({notifications:i.filter((({id:i})=>i!==t))})),i)};renderNotifications(t,e){return t.map((n=>i().createElement(S,{id:n.id,key:n.id,isMobile:e,defaultNotificationWidth:this.props.defaultNotificationWidth,notification:n,toggleRemoval:this.toggleRemoval,notificationsCount:t.length,hasBeenRemoved:n.hasBeenRemoved})))}renderMobileNotifications(t){const{className:e,id:n}=t,{notifications:o}=this.state,s=function(t){const i=[],e=[];return t.forEach((t=>{const{container:n}=t,{CENTER:o}=c;f(n)||n===o?i.push(t):u(n)&&e.push(t)})),{top:i,bottom:e}}(o),a=this.renderNotifications(s.top,!0),r=this.renderNotifications(s.bottom,!0);return i().createElement("div",{id:n,key:"mobile",className:`rnc__base ${e||""}`},i().createElement("div",{className:"rnc__notification-container--mobile-top"},a),i().createElement("div",{className:"rnc__notification-container--mobile-bottom"},r))}renderScreenNotifications(t){const{className:e,id:n}=t,{notifications:o}=this.state,s=function(t){const i=[],e=[],n=[],o=[],s=[],a=[],r=[],l=[],d=[];return t.forEach((t=>{const{container:h}=t;h===c.TOP_FULL?l.push(t):h===c.BOTTOM_FULL?d.push(t):h===c.TOP_LEFT?i.push(t):h===c.TOP_RIGHT?e.push(t):h===c.TOP_CENTER?n.push(t):h===c.BOTTOM_LEFT?o.push(t):h===c.BOTTOM_RIGHT?s.push(t):h===c.BOTTOM_CENTER?a.push(t):h===c.CENTER&&r.push(t)})),{topFull:l,bottomFull:d,topLeft:i,topRight:e,topCenter:n,bottomLeft:o,bottomRight:s,bottomCenter:a,center:r}}(o),a=this.renderNotifications(s.topFull,!1),r=this.renderNotifications(s.bottomFull,!1),l=this.renderNotifications(s.topLeft,!1),d=this.renderNotifications(s.topRight,!1),h=this.renderNotifications(s.topCenter,!1),m=this.renderNotifications(s.bottomLeft,!1),u=this.renderNotifications(s.bottomRight,!1),f=this.renderNotifications(s.bottomCenter,!1),p=this.renderNotifications(s.center,!1);return i().createElement("div",{id:n,key:"screen",className:`rnc__base ${e||""}`},i().createElement("div",{className:"rnc__notification-container--top-full"},a),i().createElement("div",{className:"rnc__notification-container--bottom-full"},r),i().createElement("div",{className:"rnc__notification-container--top-left"},l),i().createElement("div",{className:"rnc__notification-container--top-right"},d),i().createElement("div",{className:"rnc__notification-container--bottom-left"},m),i().createElement("div",{className:"rnc__notification-container--bottom-right"},u),i().createElement("div",{className:"rnc__notification-container--top-center"},h),i().createElement("div",{className:"rnc__notification-container--center"},i().createElement("div",{className:"rnc__util--flex-center"},p)),i().createElement("div",{className:"rnc__notification-container--bottom-center"},f))}render(){const{isMobile:t}=this.props,{windowWidth:i,breakpoint:e}=this.state;return t&&i<=e?this.renderMobileNotifications(this.props):this.renderScreenNotifications(this.props)}}})(),o})()}));
//# sourceMappingURL=index.js.map